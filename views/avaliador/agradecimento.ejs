<div class="max-w-xl mx-auto mt-20 p-8 bg-white shadow-lg rounded text-center">
  <h1 class="text-3xl font-bold text-green-600 mb-6">Avaliação Finalizada!</h1>
  <% if (typeof sucesso !== 'undefined') { %>
  <p class="bg-green-100 text-green-700 border border-green-300 rounded p-3 mb-4"><%= sucesso %></p>
<% } %>
  <p class="text-gray-700 text-lg">Obrigado por participar do processo de avaliação.</p>
  <p class="text-gray-600 mt-4">Seu PIN foi desativado e sua sessão foi encerrada com sucesso.</p>

  <a href="/" class="mt-6 inline-block px-6 py-2 bg-blue-600 text-white rounded hover:bg-blue-700">Voltar ao Início</a>

  <!-- Botão para abrir o modal -->
  <button 
    id="abrirModalFeedback"
    class="mt-4 inline-block px-6 py-2 bg-gray-600 text-white rounded hover:bg-gray-700"
  >
    Enviar sugestão sobre o sistema
  </button>
</div>

<!-- Modal -->
<div id="modalFeedback" class="fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center hidden z-50">
  <div class="bg-white rounded-lg shadow-lg p-6 w-full max-w-md relative">
    <button id="fecharModalFeedback" class="absolute top-2 right-2 text-gray-600 hover:text-red-500 text-2xl">
      &times;
    </button>
    <h2 class="text-xl font-semibold mb-4 text-gray-700">Enviar Feedback</h2>
    <form action="/avaliador/feedback" method="POST">
      <textarea name="mensagem" rows="4" required class="w-full p-2 border rounded text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="Digite aqui sua sugestão ou comentário..."></textarea>
      <input type="hidden" name="tipo" value="Avaliador">
      <button type="submit" class="mt-4 bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700">
        Enviar
      </button>
    </form>
  </div>
</div>

<!-- Script -->
<script>
  document.getElementById('abrirModalFeedback').addEventListener('click', () => {
    document.getElementById('modalFeedback').classList.remove('hidden');
  });

  document.getElementById('fecharModalFeedback').addEventListener('click', () => {
    document.getElementById('modalFeedback').classList.add('hidden');
  });

  // Também fecha o modal se clicar fora do conteúdo
  window.addEventListener('click', function (e) {
    const modal = document.getElementById('modalFeedback');
    if (e.target === modal) {
      modal.classList.add('hidden');
    }
  });
</script>
